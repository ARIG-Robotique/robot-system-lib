#!/usr/bin/env bash
# Author : Gregory DEPUILLE
# Description : Wrapper pour la configuration du projet

ROOT_DIR=`pwd`
PROJECT_NAME=`basename $ROOT_DIR`

BUILD_DIR=$ROOT_DIR/build

echo "Configuration du projet $PROJECT_NAME"

if [ ! -d "$BUILD_DIR" ] ; then
    echo "  * Création du répertoire de build $ROOT_DIR/build"
    mkdir -p $BUILD_DIR
fi

echo "  * Configuration du build"
cd $BUILD_DIR
cmake .. -Wno-dev -G "Unix Makefiles"

cd $ROOT_DIR
echo "Configuration terminé"